(this["webpackJsonpnews-list"]=this["webpackJsonpnews-list"]||[]).push([[0],{137:function(e,t,n){e.exports=n(222)},190:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},220:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),s=n(17),u=n(18),i=n(26),l=n(23),p=n(25),d=n(24),f=n(11),h="MODAL_SHOW_MODAL",m="MODAL_HIDE_MODAL";function b(e){var t=e.title,n=e.Node;return{type:h,payload:{title:t,Node:n,isShow:!0}}}function v(){return{type:m}}var O=n(226),y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalState,n=t.Node,a=void 0===n?r.a.createElement(r.a.Fragment,null):n,c=t.title,o=t.isShow,s=e.hideModal;return r.a.createElement(O.a,{title:c,visible:o,onCancel:s,footer:null},r.a.createElement(a,null))}}]),t}(a.PureComponent),w=Object(d.b)((function(e){return{modalState:e.modalState,title:e.selectNewsState.newsData.title}}),(function(e){return{showModal:Object(f.bindActionCreators)(b,e),hideModal:Object(f.bindActionCreators)(v,e)}}))(y),j=(n(190),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isShow;return r.a.createElement("div",{className:"loader"},n&&r.a.createElement("div",{className:"loader__overlay"},r.a.createElement("div",{className:"loader__spinner"})),t)}}]),t}(a.PureComponent)),E=n(13),S=n.n(E),g=n(19),A=n(227),_="AUTHOR_SET_AUTHORS",C="AUTHOR_SET_SELECTED",N="AUTHORS_CHANGE_PROCESSING_STATE",k=function(e){return{type:C,payload:e||""}},D=function(e){return{type:N,payload:e}};function T(e){return function(){var t=Object(g.a)(S.a.mark((function t(n,a,r){var c,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r(),n(D(!0)),t.next=4,c.get(e);case 4:if(o=t.sent,n(D(!1)),o){t.next=8;break}return t.abrupt("return",o);case 8:return n({type:_,payload:o}),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}var x="/posts",I=function(e){return"/posts/".concat(e)},L="/users",M=function(e){return"/posts/".concat(e,"/comments")},R=(n(192),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.getData)(L);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=A.a.Option,t=this.props,n=t.authors,a=t.setSelectedAuthor;return r.a.createElement("header",{className:"header container"},r.a.createElement(A.a,{style:{width:200},placeholder:"Select a author",allowClear:!0,onChange:function(e){return a(e)}},n.map((function(t){return r.a.createElement(e,{value:t.id,key:t.id},t.name)}))))}}]),t}(a.Component)),H=Object(d.b)((function(e){return{authors:e.authorState.authors}}),(function(e){return{getData:Object(f.bindActionCreators)(T,e),setSelectedAuthor:Object(f.bindActionCreators)(k,e)}}))(R),U=n(55),P=n(29),W=n(225),G=n(62),B="NEWS_LIST_SET_STATE",F="NEWS_LIST_CHANGE_PROCESSING_STATE",J=function(e){return{type:B,payload:e}},q=function(e){return{type:F,payload:e}};function z(e){return function(){var t=Object(g.a)(S.a.mark((function t(n,a,r){var c,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r(),n(q(!0)),t.next=4,c.get(e);case 4:if(o=t.sent,n(q(!1)),o){t.next=8;break}return t.abrupt("return",o);case 8:return n(J(o)),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}var K="NEWS_SET_STATE",Q="NEWS_CHANGE_PROCESSING_STATE",V="NEWS_CLEAR_STATE",X=function(e){var t=e.key,n=e.data;return{type:K,payload:{key:t,data:n}}},Y=function(e){return{type:Q,payload:e}};function Z(e,t){return function(){var n=Object(g.a)(S.a.mark((function n(a,r,c){var o,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=c(),a(Y(!0)),n.next=4,o.get(e);case 4:if(s=n.sent,a(Y(!1)),s){n.next=8;break}return n.abrupt("return",s);case 8:return a(X({key:t,data:s})),n.abrupt("return",s);case 10:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}()}var $=function(){return{type:V}},ee=16,te=(n(193),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={newsCount:10},n.addNewsCount=10,n.addNews=function(){n.setState((function(e){return{newsCount:e.newsCount+n.addNewsCount}}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.getData,e.next=3,t(x);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.getData,c=a.selectedAuthorId;if(e.selectedAuthorId!==c){var o=Boolean(c)?"?userId=".concat(c):"";r("".concat(x).concat(o))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.newsList,a=t.showModal,c=t.setSelectedNews,o=t.processing,s=this.state.newsCount,u=ee,i=n.slice(0,s);return r.a.createElement("div",{className:"container"},r.a.createElement(j,{isShow:o},r.a.createElement(U.a,{gutter:u,content:"top"},i.map((function(e){return r.a.createElement(P.a,{sm:24,md:12,lg:8,xl:6,key:e.id},r.a.createElement(W.a,{title:e.title,onClick:function(){c({key:"newsId",data:e.id}),a({title:e.title,Node:ce})},className:"cursor-pointer",style:{marginBottom:u,maxHeight:150,overflow:"hidden"}},r.a.createElement("article",null,"".concat(e.body.slice(0,70),"..."))))})))),s<n.length&&r.a.createElement(G.a,{className:"button-load-more",shape:"round",type:"primary",onClick:function(){return e.addNews()}},"Load more..."))}}]),t}(a.Component)),ne=Object(d.b)((function(e){var t=e.newsState,n=t.newsList,a=t.processing;return{newsList:n,selectedAuthorId:e.authorState.selectedAuthorId,processing:a}}),(function(e){return{getData:Object(f.bindActionCreators)(z,e),setSelectedNews:Object(f.bindActionCreators)(X,e),showModal:Object(f.bindActionCreators)(b,e)}}))(te),ae=n(224),re=(n(202),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(S.a.mark((function e(){var t,n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getData,a=t.newsId,e.next=3,n(I(a),"newsData");case 3:return e.next=5,n(M(a),"commentsData");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){(0,this.props.clearState)()}},{key:"render",value:function(){var e=this.props,t=e.newsData,n=e.commentsData,c=e.processing;return r.a.createElement(j,{isShow:c},t.body,r.a.createElement("h3",{className:"comments-title"},"Comments"),r.a.createElement("div",null,n.map((function(e){return r.a.createElement(a.Fragment,{key:e.id},r.a.createElement(ae.a,{author:r.a.createElement("p",null,e.name,r.a.createElement("br",null),r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),content:e.body}),r.a.createElement("hr",null))}))))}}]),t}(a.PureComponent)),ce=Object(d.b)((function(e){var t=e.selectNewsState;return{newsData:t.newsData,newsId:t.newsId,commentsData:t.commentsData,processing:t.processing}}),(function(e){return{getData:Object(f.bindActionCreators)(Z,e),clearState:Object(f.bindActionCreators)($,e)}}))(re);n(203);var oe=function(){return r.a.createElement("div",{className:"app_wrapper"},r.a.createElement("div",{className:"app"},r.a.createElement(H,null),r.a.createElement(ne,null),r.a.createElement(w,null)))},se=n(129),ue=n(130),ie=n(15),le={Node:function(){return r.a.createElement("div",null)},title:"",isShow:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case h:return Object(ie.a)({},e,{},a);case m:return Object(ie.a)({},le);default:return e}},de={newsList:[],processing:!0},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case F:return Object(ie.a)({},e,{processing:a});case B:return Object(ie.a)({},e,{newsList:a});default:return e}},he=n(73),me={newsId:"",newsData:{},commentsData:[],processing:!0},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Q:return Object(ie.a)({},e,{processing:a});case K:return Object(ie.a)({},e,Object(he.a)({},a.key,a.data));case V:return Object(ie.a)({},me);default:return e}},ve={authors:[],selectedAuthorId:"",processing:!0},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case N:return Object(ie.a)({},e,{processing:a});case C:return Object(ie.a)({},e,{selectedAuthorId:a});case _:return Object(ie.a)({},e,{authors:a});default:return e}},ye=n(131),we=n.n(ye),je=null,Ee=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.logoutSubscribers=[],Object.keys(n).forEach((function(e){t["_".concat(e)]=n[e]}));var a=we.a.create({baseURL:this._API_URL});a.interceptors.request.use((function(e){return Object(ie.a)({},e,{headers:{Accept:"application/json","Content-Type":"application/json"}})})),a.interceptors.response.use((function(e){return e.data}),function(){var e=Object(g.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.response,a=void 0===n?{}:n,e.abrupt("return",Object(ie.a)({status:a.status},a.data));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._client=a}return Object(u.a)(e,[{key:"getAxios",value:function(){return this._client}}]),e}();var Se=Object(f.createStore)(Object(f.combineReducers)({newsState:fe,selectNewsState:be,modalState:pe,authorState:Oe}),Object(ue.composeWithDevTools)(Object(f.applyMiddleware)(se.a.withExtraArgument((function(){return je.getAxios()}))))),ge=(n(220),n(221),"".concat("https://jsonplaceholder.typicode.com/"));je=new Ee({store:Se,API_URL:ge}),o.a.render(r.a.createElement(d.a,{store:Se},r.a.createElement(oe,null)),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.8ccee729.chunk.js.map